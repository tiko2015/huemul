<vdr-page-block>
    <vdr-action-bar>
        <vdr-ab-left></vdr-ab-left>
        <vdr-ab-right>
            <button class="button primary" *ngIf="isNew$ | async; else updateButton" (click)="create()"
                [disabled]="detailForm.pristine || detailForm.invalid">
                {{ 'common.create' | translate }}
            </button>
            <ng-template #updateButton>
                <button class="btn btn-primary" (click)="update()"
                    [disabled]="detailForm.pristine || detailForm.invalid">
                    {{ 'common.update' | translate }}
                </button>
            </ng-template>
        </vdr-ab-right>
    </vdr-action-bar>
</vdr-page-block>

<form class="form" [formGroup]="detailForm">
    <vdr-page-detail-layout>
        <!-- The sidebar is used for displaying "metadata" type information about the entity -->
        <vdr-page-detail-sidebar>
            <vdr-card>
                <div class="form-grid">
                    <vdr-form-field label="Visibilidad">
                        <clr-toggle-wrapper>
                            <input id="enabled" clrToggle type="checkbox" formControlName="enabled" />
                            <label>Habilitado</label>
                        </clr-toggle-wrapper>
                    </vdr-form-field>
                    <!-- <vdr-form-field label="Logo">
                        <vdr-relation-asset-input id="logo" formControl="logo"
                            [config]="configLogo"></vdr-relation-asset-input>
                        {{ logo.value }}
                    </vdr-form-field> -->
                </div>
            </vdr-card>
            <vdr-card *ngIf="entity$ | async as entity">
                <vdr-page-entity-info [entity]="entity" />
            </vdr-card>
            <vdr-card *ngIf="entity$ | async as entity">
                <h4 class="title">Propietario</h4>
                <div class="owner-block">
                    <p class="button-ghost is-info">
                        <clr-icon shape="user" class="is-info"></clr-icon>{{ entity.owner?.name }}
                    </p>
                </div>
                <h4 class="title">Colaboradores</h4>
                <div>
                    <p class="button-ghost">
                        <clr-icon shape="user"></clr-icon>{{ entity.owner.name }}
                    </p>
                </div>
            </vdr-card>
        </vdr-page-detail-sidebar>

        <!-- The main content area is used for displaying the entity's fields -->
        <vdr-page-block>
            <!-- The vdr-card is the container for grouping items together on a page -->
            <!-- it can also take an optional [title] property to display a title -->
            <vdr-card>
                <!-- the form-grid class is used to lay out the form fields -->
                <div class="form-grid">
                    <vdr-form-field label="Nombre" for="name">
                        <input id="name" type="text" formControlName="name" />
                    </vdr-form-field>
                    <vdr-form-field label="Code" for="code">
                        <input id="code" type="text" formControlName="code" />
                    </vdr-form-field>
                    <!-- <vdr-form-field label="Redes sociales" for="linksRRSS">
                        <tag-input for="linksRRSS" formControlName="linksRRSS" theme="minimal"></tag-input>
                    </vdr-form-field> -->
                    <vdr-form-field label="DescripciÃ³n de la entidad" for="description" class="form-grid-span">
                        <vdr-rich-text-editor id="description" type="text"
                            formControlName="description"></vdr-rich-text-editor>
                    </vdr-form-field>
                </div>
            </vdr-card>
            <vdr-card>
                <!-- the form-grid class is used to lay out the form fields -->
            </vdr-card>
        </vdr-page-block>
    </vdr-page-detail-layout>
</form>